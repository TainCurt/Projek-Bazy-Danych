### CONFIG
@BASE_URL = http://127.0.0.1:8000/dominoapp/
@ADMIN_TOKEN = 11a4be82b49191741a7d19d219a3542555011209
@RESIDENT_TOKEN = f9588e626501f47d37d8394720bb9179a626e6f8
@THRESHOLD = 2000

### Tworzymy budynek
POST {{BASE_URL}}buildings/
Authorization: Token {{ADMIN_TOKEN}}
Content-Type: application/json

{
  "BuildingStreet": "Testowa",
  "BuildingNumber": "10A",
  "BuildingCity": "Warszawa",
  "BuildingPostal": "00-001"
}

### Tworzymy mieszkanie w budynku
# Wklej odpowiedni BUILDING_ID 
POST {{BASE_URL}}buildings/1/flats/
Authorization: Token {{ADMIN_TOKEN}}
Content-Type: application/json

{
  "FlatNumber": "1",
  "FlatFloor": 1,
  "FlatArea": 50.5,
  "FlatStatus": true
}

### Dodajemy naliczenie do mieszkania
# Wklej odpowiedni BUILDING_ID i FLAT_ID
POST {{BASE_URL}}buildings/1/flats/1/rent/
Authorization: Token {{ADMIN_TOKEN}}
Content-Type: application/json

{
  "RentMonth": 12,
  "RentYear": 2025,
  "RentAmount": 1200.00,
  "RentDateDue": "2025-12-30"
}

### Wypisujemy oplaty dla poszczegolnego mieszkania z default threshold = 2000
GET {{BASE_URL}}flatbyrentstats/
Authorization: Token {{ADMIN_TOKEN}}

### Tutaj wypisujemy tylko ze z customowym threshholdem 
GET {{BASE_URL}}flatsrentstats/?threshold={{THRESHOLD}}
Authorization: Token {{ADMIN_TOKEN}}

### invalid threshold
GET {{BASE_URL}}flatsrentstats/?threshold=abc
Authorization: Token {{ADMIN_TOKEN}}

### Powinno byc 403 bo token rezydenta
GET {{BASE_URL}}flatsrentstats/
Authorization: Token {{RESIDENT_TOKEN}}